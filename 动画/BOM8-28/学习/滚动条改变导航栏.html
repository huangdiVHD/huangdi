<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    
        body {
            height: 2000px;
        }
    
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            height: 150px;
            background-color: #000000;
        }
    </style>
	</head>
	<body>
		<div class="header"></div>
        <!-- 条件:当页面高度卷入300px时,header高度从150px变为100px,透明度从1变成0.2 -->

         <script>
         var header = document.querySelector('.header');
         // header若无	position: fixed;top: 0;,固定那么它覆盖150px的高度
        // ,但若是固定后,在下面还是显示它则是原来的150卷入再加上现在显示的150px高度 即300px的高度
        // 即当高度等于150时透明为1,300时透明为0
        // 即   0  150  1
        //     300 100  0.2
        // 找出公因式
        // 页面被卷入的高度 / 6 (即50/300)
        // 页面被卷入的高度/375(0.8/300)
        window.onscroll = function(){
        //    console.log('111');
           if(sct()>=300){
            header.style.height = '100px';
		   header.style.opacity = 0.2;
           }else{
            header.style.height = 150 -  sct()/6 + "px";
		   header.style.opacity = 1 -  sct()/375;
           } 
        }
        function sct() {
			return document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
        }
         </script>
</body>
</html>