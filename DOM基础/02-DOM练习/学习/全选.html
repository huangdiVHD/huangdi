<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    *{
        margin: 0px;
        padding: 0px;
     }
     .wrap {
          width: 600px;
          height: 600px;
          margin: 0 auto;
     }
     .table {
         height: 200px;
         margin: 0 auto;
     }
    </style>
</head>
<body>
    <div class="wrap">
         <table class="table">
             <tr>
                <td><input type="checkbox" value="全选" id="all"></td>
                <td>姓名</td>
                <td>年龄</td>
            </tr>
            <tr>
                <td><input type="checkbox" class="check"></td>
                <td>张三</td>
                <td>22</td>
            </tr>
            <tr>
                <td><input type="checkbox" class="check"></td>
                 <td>李四</td>
                 <td>50</td>
            </tr>
             <tr>
                <td><input type="checkbox" class="check"></td>
                <td>张二</td>
                <td>50</td>
            </tr>
         </table>
         <input type="button" class="inverse" value="反选">
    </div>
   <script>
   var  all= document.getElementById('all');
   var check = document.getElementsByClassName('check');
   var noReverse  = document.getElementsByClassName('inverse')[0];

   all.onclick = function(){
       for(var i = 0; i<check.length; i++){
         check[i].checked = this.checked;//checked是一种属性
       }
   }
  // 循环绑定 输入框选中事件
  for (var i = 0; i < check.length; i++) {
            // check[i].onclick = function () {
            //     checkAll();
            // }
        }
        // 封装成函数
        function checkAll() {
            var flag = true;
            for (var i = 0; i < check.length; i++) {
                if (!check[i].checked) {
                    flag = false;
                    break;
                }
            }
            all.checked = flag;
            // if (flag) {
            //     // 都被选中了
            //     btnAll.checked = true;
            // } else {
            //     btnAll.checked = false;
            // }
        }
     noReverse.onclick = function(){
         for(var i = 0;i<check.length;i++){
             check[i].checked = !check[i].checked;
         }
         checkAll();
     }

   </script>
</body>
</html>